---
layout: post
title: å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆ
date: 2021-03-14
tags: ç®—æ³•ä¸“é¢˜   
---


===

Index
---
<!-- TOC -->

- [ä»‹ç»](#ä»‹ç»)
- [æ»‘åŠ¨çª—å£æœ€å¤§å€¼](#æ»‘åŠ¨çª—å£æœ€å¤§å€¼)
- [æ¯æ—¥æ¸©åº¦](#æ¯æ—¥æ¸©åº¦)
- [å¥½å­æ•°ç»„çš„æœ€å¤§åˆ†æ•°](#å¥½å­æ•°ç»„çš„æœ€å¤§åˆ†æ•°)
- [è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ](#è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ)
- [å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„](#å’Œè‡³å°‘ä¸ºkçš„æœ€çŸ­å­æ•°ç»„)
- [å·¦è¾¹åŒºé—´ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°](#å·¦è¾¹åŒºé—´ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°)

<!-- /TOC -->


### ä»‹ç»

**å•è°ƒæ ˆ**

å•è°ƒæ ˆæ˜¯æŒ‡ä¸€ä¸ªæ ˆå†…éƒ¨çš„å…ƒç´ æ˜¯å…·æœ‰ä¸¥æ ¼å•è°ƒæ€§çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œåˆ†ä¸ºå•è°ƒé€’å¢æ ˆå’Œå•è°ƒé€’å‡æ ˆã€‚

å•è°ƒæ ˆæœ‰ä¸¤ä¸ªæ€§è´¨ï¼š
>* 1.æ»¡è¶³ä»æ ˆé¡¶åˆ°æ ˆåº•çš„å…ƒç´ å…·æœ‰ä¸¥æ ¼çš„å•è°ƒæ€§
>* 2.æ»¡è¶³æ ˆçš„åè¿›å…ˆå‡ºç‰¹æ€§è¶Šé è¿‘æ ˆåº•çš„å…ƒç´ è¶Šæ—©è¿›æ ˆ

å•è°ƒæ ˆä¸»è¦è§£å†³çš„é—®é¢˜ï¼š

>* å·¦è¾¹åŒºé—´ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°
>* ç¡®å®šè¿™ä¸ªå…ƒç´ æ˜¯å¦æ˜¯åŒºé—´æœ€å€¼
>* å³è¾¹åŒºé—´ç¬¬ä¸€ä¸ªå¤§äºå®ƒçš„å€¼
>* åˆ° å³è¾¹åŒºé—´ç¬¬ä¸€ä¸ªå¤§äºå®ƒçš„å€¼ çš„è·ç¦»
>* ç¡®å®šä»¥è¯¥å…ƒç´ ä¸ºæœ€å€¼çš„æœ€é•¿åŒºé—´

**å•è°ƒé˜Ÿåˆ—**

>* å¯ä»¥æŸ¥è¯¢åŒºé—´æœ€å€¼ï¼ˆä¸èƒ½ç»´æŠ¤åŒºé—´kå¤§ï¼Œå› ä¸ºé˜Ÿåˆ—ä¸­å¾ˆæœ‰å¯èƒ½æ²¡æœ‰kä¸ªå…ƒç´ ï¼‰
ä¼˜åŒ–DPï¼ˆè§å‚è€ƒæ–‡çŒ®3ï¼‰
>* ç”¨äºä¼˜åŒ–åŠ¨æ€è§„åˆ’æ–¹é¢é—®é¢˜çš„ä¸€ç§ç‰¹æ®Šæ•°æ®ç»“æ„ï¼Œä¸”å¤šæ•°æƒ…å†µæ˜¯ä¸å®šé•¿è¿ç»­å­åŒºé—´é—®é¢˜ç›¸å…³è”


**å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆæ€§è´¨**

>* å…·æœ‰å•è°ƒæ€§
>* å®¹å™¨ä¸­çš„å…ƒç´ ä¸ªæ•°æ°¸è¿œä¸ä¸ºç©ºã€‚ï¼ˆå› ä¸ºå½“æ·»åŠ ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå®ƒè¦ä¹ˆç›´æ¥è¢«æ·»åŠ åˆ°â€œå°¾éƒ¨â€ï¼Œè¦ä¹ˆå¼¹å‡ºkä¸ªæ¯”å®ƒå°çš„æ•°åå†è¢«æ·»åŠ åˆ°â€œå°¾éƒ¨â€ï¼‰
>* å¯¹äºä¸€ä¸ªå…ƒç´ iï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“åœ¨å®ƒå·¦è¾¹åŒºé—´ï¼Œç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å€¼, åœ¨å…ƒç´ æ·»åŠ çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šä¸æ–­å¼¹å‡ºæ¯”å®ƒå°çš„å€¼ï¼Œæœ€åä¸€ä¸ªå¼¹å‡ºçš„å€¼ï¼Œå³ä¸ºæ‰€æ±‚ã€‚å¦‚æœæ²¡æœ‰å…ƒç´ è¢«å¼¹å‡ºï¼Œé‚£å°±æ— æ³•æ±‚å‡ºï¼Œè™½ç„¶è¿™ä¸ªæ•°ä¸€å®šå­˜åœ¨ã€‚é¡ºä¾¿åœ¨è¿™é‡Œå¤šæä¸€å¥ï¼Œç¬¬äºŒä¸ªæ¯”å®ƒå°çš„æ•°æ˜¯ä¸€å®šä¸çŸ¥é“çš„ï¼Œå› ä¸ºä¸ç¡®å®šæ˜¯å¦è¢«å¼¹å‡º 
>* å¯¹äºä¸€ä¸ªå…ƒç´ iï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“åœ¨å®ƒå·¦è¾¹åŒºé—´ï¼Œç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ğ‘€ğ‘–ğ‘›(ğ‘£[ğ‘¥]|ğ‘¥<ğ‘–&&ğ‘£[ğ‘¥]>ğ‘£[ğ‘–])
åœ¨å¼¹å‡ºæ¯”iå°çš„æ‰€æœ‰å…ƒç´ åï¼Œæ ˆé¡¶çš„å…ƒç´ å³ä¸ºæ‰€æ±‚ã€‚å¦‚æœæ ˆä¸ºç©ºï¼Œä¹Ÿæ— æ³•æ±‚å‡ºã€‚
>* æ ¹æ®2å’Œ3ï¼Œå®ƒä»¬æ˜¯å…ƒç´ æ’å…¥æ—¶æ‰€è·å¾—çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å‡ºå½“å…ƒç´ è¢«å¼¹å‡ºæ—¶èƒ½è·å¾—çš„ä¿¡æ¯ï¼šåœ¨å³è¾¹åŒºé—´ï¼Œç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å€¼ã€‚
>* æˆ‘ä»¬å¯ä»¥ç»Ÿè®¡åœ¨æ·»åŠ å…ƒç´ è¿‡ç¨‹ä¸­ï¼Œå¼¹å‡ºäº†å¤šå°‘ä¸ªå…ƒç´ ã€‚

**å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆç›¸åŒç‚¹ï¼š**

>* å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆçš„â€œå¤´éƒ¨â€éƒ½æ˜¯æœ€å…ˆæ·»åŠ çš„å…ƒç´ ï¼Œâ€œå°¾éƒ¨â€éƒ½æ˜¯æœ€åæ·»åŠ çš„å…ƒç´ ã€‚
>* é€’å¢å’Œé€’å‡çš„åˆ¤æ–­ä¾æ®æ˜¯ï¼šä»æ ˆåº•ï¼ˆé˜Ÿå°¾ï¼‰åˆ°æ ˆé¡¶ï¼ˆé˜Ÿé¦–ï¼‰ï¼Œå…ƒç´ å¤§å°çš„å˜åŒ–æƒ…å†µã€‚æ‰€ä»¥é˜Ÿåˆ—å’Œæ ˆæ˜¯ç›¸åçš„ã€‚
>* å®ƒä»¬çš„æ“ä½œæ˜¯éå¸¸ç›¸ä¼¼çš„ã€‚å½“é˜Ÿåˆ—é•¿åº¦ä¸ºæ— ç©·å¤§æ—¶ï¼Œé€’å¢çš„å•è°ƒé˜Ÿåˆ—å’Œé€’å‡çš„å•è°ƒæ ˆï¼Œæ’åˆ—æ˜¯ä¸€æ ·çš„ï¼
åŸå› åœ¨äºï¼Œé•¿åº¦ä¸ºæ— ç©·å¤§çš„çš„é˜Ÿåˆ—ä¸ä¼šåœ¨â€œå¤´éƒ¨â€æœ‰popfrontæ“ä½œï¼Œè€Œåœ¨â€œå°¾éƒ¨â€çš„æ“ä½œæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼šæ•°æ®éƒ½ä»â€œå°¾éƒ¨â€è¿›å…¥ï¼Œå¹¶æŒ‰ç…§ç›¸åŒçš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒã€‚
>* ä¸¤è€…ç»´æŠ¤çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n)ï¼Œå› ä¸ºæ¯ä¸ªå…ƒç´ éƒ½åªæ“ä½œä¸€æ¬¡ã€‚

**åŒºåˆ«**

>* é˜Ÿåˆ—å¯ä»¥ä»é˜Ÿåˆ—å¤´å¼¹å‡ºå…ƒç´ ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ ¹æ®å…¥é˜Ÿçš„æ—¶é—´é¡ºåºï¼ˆè®¿é—®çš„é¡ºåºï¼‰åˆ é™¤å…ƒç´ ã€‚
>* è¿™æ ·å¯¼è‡´äº†å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆç»´æŠ¤çš„åŒºé—´ä¸åŒã€‚å½“è®¿é—®åˆ°ç¬¬iä¸ªå…ƒç´ æ—¶ï¼Œå•è°ƒæ ˆç»´æŠ¤çš„åŒºé—´ä¸º[0, i)ï¼Œè€Œå•è°ƒé˜Ÿåˆ—ç»´æŠ¤çš„åŒºé—´ä¸º(lastpop, i)
>* å•è°ƒé˜Ÿåˆ—å¯ä»¥è®¿é—®â€œå¤´éƒ¨â€å’Œâ€œå°¾éƒ¨â€ï¼Œè€Œå•è°ƒæ ˆåªèƒ½è®¿é—®æ ˆé¡¶ï¼ˆä¹Ÿå°±æ˜¯â€œå°¾éƒ¨â€ï¼‰ã€‚è¿™å¯¼è‡´å•è°ƒæ ˆæ— æ³•è·å–[0, i)çš„åŒºé—´æœ€å¤§å€¼/æœ€å°å€¼ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œå•è°ƒé˜Ÿåˆ—å®é™…ä¸Šæ˜¯å•è°ƒæ ˆçš„çš„å‡çº§ç‰ˆã€‚å•è°ƒæ ˆåªæ”¯æŒè®¿é—®å°¾éƒ¨ï¼Œè€Œå•è°ƒé˜Ÿåˆ—ä¸¤ç«¯éƒ½å¯ä»¥ã€‚å½“ç„¶ï¼Œå•è°ƒæ ˆçš„ç¼–ç¨‹ä¸Šï¼ˆä¸¤ä¸ªå‡½æ•°ï¼‰æ¯”å•è°ƒé˜Ÿåˆ—ï¼ˆä¸‰ä¸ªå‡½æ•°ï¼‰è¦ç®€å•ã€‚


### æ»‘åŠ¨çª—å£æœ€å¤§å€¼

[leetcode 239](https://leetcode-cn.com/problems/sliding-window-maximum/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸ºÂ kÂ çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ kÂ ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚

è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚

**ç¤ºä¾‹**
```
è¾“å…¥ï¼šnums = [1,3,-1,-3,5,3,6,7], k = 3
è¾“å‡ºï¼š[3,3,5,5,6,7]
è§£é‡Šï¼š
æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```

**ä»£ç **
```c++
    vector<int> maxSlidingWindow(vector<int>& nums, int k) {
        deque<int> dq;
        vector<int> res;
        for (int i = 0; i < nums.size(); ++i) {
            while (!dq.empty() && nums[dq.back()] < nums[i])
                dq.pop_back();
            dq.push_back(i);
            while (dq.front() <= i - k) dq.pop_front();
            if (i >= k - 1) res.push_back(nums[dq.front()]);
        }
        return res;
    }
```

### æ¯æ—¥æ¸©åº¦

[leetcode 739](https://leetcode-cn.com/problems/daily-temperatures/)

è¯·æ ¹æ®æ¯æ—¥ æ°”æ¸© åˆ—è¡¨ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ã€‚å¯¹åº”ä½ç½®çš„è¾“å‡ºä¸ºï¼šè¦æƒ³è§‚æµ‹åˆ°æ›´é«˜çš„æ°”æ¸©ï¼Œè‡³å°‘éœ€è¦ç­‰å¾…çš„å¤©æ•°ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨Â 0 æ¥ä»£æ›¿ã€‚

ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªåˆ—è¡¨Â temperatures = [73, 74, 75, 71, 69, 72, 76, 73]ï¼Œä½ çš„è¾“å‡ºåº”è¯¥æ˜¯Â [1, 1, 4, 2, 1, 1, 0, 0]ã€‚

æç¤ºï¼šæ°”æ¸© åˆ—è¡¨é•¿åº¦çš„èŒƒå›´æ˜¯Â [1, 30000]ã€‚æ¯ä¸ªæ°”æ¸©çš„å€¼çš„å‡ä¸ºåæ°åº¦ï¼Œéƒ½æ˜¯åœ¨Â [30, 100]Â èŒƒå›´å†…çš„æ•´æ•°ã€‚

**ä»£ç **

```c++
    vector<int> dailyTemperatures(vector<int>& nums) {
        int n = nums.size();
        vector<int> res(n, 0);
        stack<int> sk;
        for (int i = 0; i < n; ++i) {
            while(!sk.empty() && nums[sk.top()] < nums[i]) {
                res[sk.top()] = i - sk.top();
                sk.pop();
            }
            sk.push(i);
        }
        return res;
    }
```

### å¥½å­æ•°ç»„çš„æœ€å¤§åˆ†æ•°

[leetcode 5704](https://leetcode-cn.com/problems/maximum-score-of-a-good-subarray/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â numsÂ ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰å’Œä¸€ä¸ªæ•´æ•°Â kÂ ã€‚

ä¸€ä¸ªå­æ•°ç»„ (i, j)Â çš„ åˆ†æ•°Â å®šä¹‰ä¸ºÂ min(nums[i], nums[i+1], ..., nums[j]) * (j - i + 1)Â ã€‚ä¸€ä¸ªÂ å¥½Â å­æ•°ç»„çš„ä¸¤ä¸ªç«¯ç‚¹ä¸‹æ ‡éœ€è¦æ»¡è¶³Â i <= k <= jÂ ã€‚

è¯·ä½ è¿”å› å¥½Â å­æ•°ç»„çš„æœ€å¤§å¯èƒ½ åˆ†æ•°Â ã€‚

**ä»£ç **
```c++
    int maximumScore(vector<int>& nums, int k) {
        int n = nums.size();
        vector<int> left(n,-1), right(n,n);
        stack<int> sk;
        for (int i = 0; i < n; ++i) {
            while(!sk.empty() && nums[sk.top()] > nums[i]) {
                right[sk.top()] = i;
                sk.pop();
            }
            sk.push(i);
        }
        sk = stack<int>();
        for (int i = n - 1; i >= 0; --i) {
            while (!sk.empty() && nums[sk.top()] > nums[i]) {
                left[sk.top()] = i;
                sk.pop();
            }
            sk.push(i);
        }
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            int l = left[i] + 1, r = right[i] - 1;
            if (l <= k && r >= k) {
                ans = max(ans, (r - l + 1) * nums[i]);
            }
        }
        return ans;
    }
```

### è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œ

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°åºåˆ—ï¼Œè¯·æ‰¾å‡ºé•¿åº¦ä¸è¶…è¿‡mçš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å€¼

ç¤ºä¾‹
æ•°ç»„ [2, -3, 5, 2, -4, -1, 8] m = 3, é‚£ä¹ˆé•¿åº¦ä¸è¶…è¿‡3çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œä¸º8.

**è®²è§£**

è®¾sä¸ºæ•°ç»„çš„å‰ç¼€å’Œæ•°ç»„ï¼Œå³ s[1] = a[0],  s[i] = a[0] + a[1] + ... + a[i-1]

åˆ™å¯¹æ•°ç»„ä¸­ä»»æ„å…ƒç´ a[k-1]ï¼Œä»¥a[k-1]ä¸ºç»“å°¾çš„è¿ç»­å­åºåˆ—çš„æœ€å¤§å’Œä¸º s[k] - min(s[k-1], ..., s[k-m])
é—®é¢˜è½¬åŒ–ä¸ºæ±‚,ç”¨æ»‘åŠ¨çª—å£æ±‚[k-m, k-1]å†…çš„æœ€å°å€¼


**ä»£ç **
```c++
int maxSum(vector<int>& nums, int m) {
    vector<int> s(nums.size() + 1, 0);
    for (int i = 1; i <= nums.size(); ++i)
        s[i] = s[i - 1] + nums[i - 1];
    int ans = 0; //
    deque<int> dq;
    for (int i = 0; i < nums.size(); ++i) {
        while (!dq.empty() && s[dq.back()] > s[i])
            dq.pop_back();
        dq.push_back(i);
        while (dq.front() <= i - m) dq.pop_front();
        ans = max(ans, s[i + 1] - s[dq.front()]); //
    }
    return ans;
}
```

### å’Œè‡³å°‘ä¸ºkçš„æœ€çŸ­å­æ•°ç»„

[leetcode 862](https://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/)

è¿”å› A çš„æœ€çŸ­çš„éç©ºè¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥å­æ•°ç»„çš„å’Œè‡³å°‘ä¸º K ã€‚
å¦‚æœæ²¡æœ‰å’Œè‡³å°‘ä¸º K çš„éç©ºå­æ•°ç»„ï¼Œè¿”å› -1 ã€‚

**è®²è§£**

è®°è®¾sä¸ºæ•°ç»„çš„å‰ç¼€å’Œæ•°ç»„ï¼Œå³ s[1] = a[0],  s[i] = a[0] + a[1] + ... + a[i-1]
åŒºé—´ [i, j]çš„å­æ•°ç»„å’Œä¸º s[j+1]-s[i]
æ±‚ s[j+1]-s[i]>=k çš„æœ€çŸ­å­æ•°ç»„é•¿åº¦
å¯¹äºä»»æ„çš„jï¼Œæ±‚ä»¥jç»“å°¾çš„æ»¡è¶³s[j+1]-s[i]>=kçš„ j+1-içš„æœ€å°å€¼ã€‚

**ä»£ç **
```c++
    int shortestSubarray(vector<int>& a, int k) {
        int n = a.size(), ans=n+1;
        vector<int> s(n+1);
        for(int i=1;i<=n;++i)
            s[i] = s[i-1]+a[i-1];
        deque<int> dq;
        for(int i=0;i<n;++i){
            while(!dq.empty() && s[dq.back()] > s[i])
                dq.pop_back();
            dq.push_back(i);
            while(!dq.empty() && s[i+1]-s[dq.front()]>=k){
                ans=min(ans,i+1-dq.front());
                dq.pop_front();
            }
        }
        return ans == n + 1 ? -1 : ans;
    }
```

### å·¦è¾¹åŒºé—´ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°

ç»™ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹äºæ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ‰¾å‡ºå®ƒä¹‹å‰ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ çš„å€¼ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¾“å‡ºå®ƒæœ¬èº«ã€‚

**æ ·ä¾‹**
```
è¾“å…¥ï¼š list = [2,3,6,1,5,5]
è¾“å‡ºï¼š[2,2,3,1,1,1]
è§£é‡Šï¼šä¾æ®é¢˜æ„ï¼Œæ‰¾å‡ºæ¯ä¸ªæ•°å­—å‰é¢ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ ã€‚
```

```c++
    vector<int> solve(vector<int>& nums) {
        stack<int> sk;
        vector<int> ans;
        for (int i = 0; i < nums.size(); ++i) {
            while(!sk.empty() && nums[sk.top()] >= nums[i]) {
                sk.pop();
            }
            if (sk.empty()) ans.push_back(nums[i]);
            else ans.push_back(nums[sk.top()]);
            sk.push(i);
        }
        return ans;
    }
```